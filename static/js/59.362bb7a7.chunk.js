"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[59],{174:function(t,r,n){n.d(r,{Z:function(){return i}});var e=n(87),a=n(689),u=n(184),i=function(t){var r=t.movies,n=(0,a.TH)();return(0,u.jsx)("ul",{children:r.map((function(t){var r=t.id,a=t.title;return(0,u.jsx)("li",{children:(0,u.jsx)(e.rU,{to:"/movies/".concat(r),state:{from:n},children:a})},r)}))})}},59:function(t,r,n){n.r(r),n.d(r,{default:function(){return l}});var e=n(861),a=n(439),u=n(757),i=n.n(u),s=n(791),c=n(87),o=n(969),f=n(174),p=n(184),l=function(){var t,r=(0,s.useState)([]),n=(0,a.Z)(r,2),u=n[0],l=n[1],v=(0,c.lr)(),d=(0,a.Z)(v,2),h=d[0],m=d[1],g=null!==(t=h.get("query"))&&void 0!==t?t:"",x=(0,s.useState)(g),b=(0,a.Z)(x,2),w=b[0],y=b[1],Z=(0,s.useState)(null),k=(0,a.Z)(Z,2),_=k[0],j=k[1];(0,s.useEffect)((function(){if(g){var t=new AbortController,r=function(){var r=(0,e.Z)(i().mark((function r(n){var e,a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,o.on)(n,t);case 3:e=r.sent,a=e.map((function(t){return{id:t.id,title:t.title}})),l(a),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(t){return r.apply(this,arguments)}}();return r(g),function(){t.abort()}}}),[g,_]);return(0,p.jsxs)("div",{children:[(0,p.jsx)(c.rU,{to:"/",children:"\u2b05\ufe0f go back"}),(0,p.jsx)("hr",{}),(0,p.jsxs)("form",{onSubmit:function(t){t.preventDefault();var r=t.target.query.value.trim();if(""===r)return m({}),void l([]);m({query:r}),j(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(t)).reduce((function(t,r){return t+((r&=63)<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r>62?"-":"_")}),"")}(1))},children:[(0,p.jsx)("input",{type:"text",name:"query",value:w,onChange:function(t){return y((function(){return t.target.value.trimStart()}))}}),(0,p.jsx)("button",{type:"submit",children:"Search"})]}),(0,p.jsx)(f.Z,{movies:u})]})}},969:function(t,r,n){n.d(r,{Jh:function(){return l},_r:function(){return v},a2:function(){return o},on:function(){return f},s_:function(){return p}});var e=n(861),a=n(757),u=n.n(a),i=n(243);i.Z.defaults.baseURL="https://api.themoviedb.org/3";var s="3b120c16b34f353f70d8604b6ed477b2",c={api_key:s},o=function(){var t=(0,e.Z)(u().mark((function t(r){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("/trending/movie/day",{params:c,signal:r.signal});case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),f=function(){var t=(0,e.Z)(u().mark((function t(r,n){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("/search/movie",{params:{api_key:s,query:r},signal:n.signal});case 2:return e=t.sent,t.abrupt("return",e.data.results);case 4:case"end":return t.stop()}}),t)})));return function(r,n){return t.apply(this,arguments)}}(),p=function(){var t=(0,e.Z)(u().mark((function t(r,n){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("/movie/".concat(r),{params:c,signal:n.signal});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(r,n){return t.apply(this,arguments)}}(),l=function(){var t=(0,e.Z)(u().mark((function t(r,n){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("/movie/".concat(r,"/credits"),{params:c,signal:n.signal});case 2:return e=t.sent,t.abrupt("return",e.data.cast);case 4:case"end":return t.stop()}}),t)})));return function(r,n){return t.apply(this,arguments)}}(),v=function(){var t=(0,e.Z)(u().mark((function t(r,n){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("/movie/".concat(r,"/reviews"),{params:c,signal:n.signal});case 2:return e=t.sent,t.abrupt("return",e.data.results);case 4:case"end":return t.stop()}}),t)})));return function(r,n){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=59.362bb7a7.chunk.js.map